

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SrFit developer’s documentation &mdash; SrFit 1.0b2-10 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0b2-10',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="top" title="SrFit 1.0b2-10 documentation" href="#" />
    <link rel="next" title="Introduction" href="intro.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="N">next</a> |</li>
        <li><a href="#">SrFit 1.0b2-10 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="srfit-developer-s-documentation">
<span id="developers-guide-index"></span><h1>SrFit developer&#8217;s documentation<a class="headerlink" href="#srfit-developer-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Software version 1.0b2-10.</p>
<p>Last updated February 16, 2014.</p>
<p>diffpy.srfit - modular, configurable code for solving atomic structures.</p>
<p>The diffpy.srfit package provides the framework for building a global optimizer
on the fly from components such as function calculators (that calculate
different data spectra), regression algorithms and structure models.  The
software is capable of co-refinement using multiple information sources or
models. It provides a uniform interface for various regression algorithms. The
target function being optimized can be specified by the user according to the
data available.</p>
<p>Within the diffpy.srfit framework, any parameter used in describing the
structure of a material can be passed as a refinable variable to the global
optimizer.  Once parameters are declared as variables they can easily be turned
”on” or ”off”, i.e. fixed or allowed to vary. Additionally, variables may be
constrained to obey mathematical relationsips with other parameters or
variables used in the structural model. Restraints can alo be applied to
variables, which adds a penalty to the refinment process commensurate with the
deviation from the known value or range. The cost function can also be
customized by the user. If the refinement contains multiple models, each model
can have its own cost function which will be properly weighted and combined to
obtain the total cost function. Additionaly, diffpy.srfit is designed to be
extensible, allowing the user to integrate external calculators to perform
corefinements with other techniques.</p>
<p>For more information about the diffpy.srfit library, see the users manual at</p>
<blockquote>
<div><a class="reference external" href="http://diffpy.github.io/diffpy.srfit/">http://diffpy.github.io/diffpy.srfit/</a></div></blockquote>
<p>REQUIREMENTS</p>
<p>The diffpy.srfit package requires Python 2.6 or 2.7 and the following
software:</p>
<blockquote>
<div>diffpy.Structure
pyobjcryst
diffpy.srreal
libdiffpy
sans.models
sans.pr
periodictable
numpy
scipy
matplotlib</div></blockquote>
<p>Some of the required software packages may be available in the system package
manager, for example, on Ubuntu Linux the dependencies can be installed as:</p>
<blockquote>
<div>sudo apt-get install python-setuptools python-numpy scons </div></blockquote>
<p>build-essential python-dev libboost-dev</p>
<p>For Mac OS X systems with the MacPorts package manager one could do</p>
<blockquote>
<div>sudo port install python27 py27-setuptools py27-numpy scons boost</div></blockquote>
<p>When installing for MacPorts, make sure the MacPorts bin directory is the first
in the system PATH and that python27 is selected as the default Python version
in MacPorts:</p>
<blockquote>
<div>sudo port select &#8211;set python python27</div></blockquote>
<p>For other required packages see their respective web pages for installation
instructions.</p>
<p>INSTALLATION</p>
<p>The easiest option is to use the latest DiffPy-CMI release bundle from
<a class="reference external" href="http://www.diffpy.org/">http://www.diffpy.org/</a>, which comes with diffpy.srfit and all other
dependencies included.</p>
<p>If you prefer to install from sources, make sure all required software packages
are in place and then run</p>
<blockquote>
<div>sudo python setup.py install</div></blockquote>
<p>This installs diffpy.srfit for all users in the default system location.  If
administrator (root) access is not available, see the usage info from &#8220;python
setup.py install &#8211;help&#8221; for options to install to user-writable directories.
The installation integrity can be verified by changing to the HOME directory
and running</p>
<blockquote>
<div>python -m diffpy.srfit.tests.run</div></blockquote>
<p>DEVELOPMENT</p>
<p>diffpy.srfit is an open-source software developed as a part of the DiffPy-CMI
complex modeling initiative at the Brookhaven National Laboratory.  The
diffpy.srfit sources are hosted at</p>
<blockquote>
<div><a class="reference external" href="https://github.com/diffpy/diffpy.srfit/">https://github.com/diffpy/diffpy.srfit/</a>,</div></blockquote>
<p>Feel free to fork the project and contribute.  To install diffpy.srfit in a
development mode, with its sources being directly used by Python rather than
copied to a package directory, use</p>
<blockquote>
<div>python setup.py develop &#8211;user</div></blockquote>
<p>CONTACTS</p>
<p>For more information on diffpy.srfit please visit the project web-page</p>
<blockquote>
<div><a class="reference external" href="http://www.diffpy.org/">http://www.diffpy.org/</a></div></blockquote>
<p>or email Prof. Simon Billinge at <a class="reference external" href="mailto:sb2896&#37;&#52;&#48;columbia&#46;edu">sb2896<span>&#64;</span>columbia<span>&#46;</span>edu</a>.</p>
<div class="section" id="disclaimer">
<h2>Disclaimer<a class="headerlink" href="#disclaimer" title="Permalink to this headline">¶</a></h2>
<p>This program is part of the DiffPy and DANSE open-source projects at Columbia
University and is available subject to the conditions and terms laid out below.</p>
<p>Copyright © 2008-2011, Trustees of Columbia University in the City of New York,
all rights reserved.</p>
<p>For more information please visit the diffpy web-page at <a class="reference external" href="http://diffpy.org">http://diffpy.org</a> or
email Prof. Simon Billinge at <a class="reference external" href="mailto:sb2896&#37;&#52;&#48;columbia&#46;edu">sb2896<span>&#64;</span>columbia<span>&#46;</span>edu</a>.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<blockquote>
<div><ul class="simple">
<li>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</li>
<li>Neither the names of COLUMBIA UNIVERSITY, MICHIGAN STATE UNIVERSITY nor the
names of their contributors may be used to endorse or promote products
derived from this software without specific prior written permission.</li>
</ul>
</div></blockquote>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &#8220;AS IS&#8221; AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>
<div class="section" id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<div class="section" id="developers">
<h3>Developers<a class="headerlink" href="#developers" title="Permalink to this headline">¶</a></h3>
<p>The active DiffPy team is Simon Billinge, Emil Božin, Timur Dykhne, Chris
Farrow, Pavol Juhás, Jiwu Liu, Peng Tian and Yingrui Shang.  Former members of
the project are Dmitriy Bryndin and Wenduo Zhou.  The project was started at
the Department of Physics and Astronomy, Michigan State University and is now
centered at the Department of Applied Physics and Applied Mathematics at
Columbia University in the city of New York.</p>
<p>SrFit is developed and maintained by</p>
<div class="highlight-python"><pre>Chris Farrow
Pavol Juhas
</pre>
</div>
</div>
<div class="section" id="funding">
<h3>Funding<a class="headerlink" href="#funding" title="Permalink to this headline">¶</a></h3>
<p>This software was developed as part of the Distributed Data Analysis of Neutron
Scattering Experiments (DANSE) project funded by the US National Science
Foundation under grant DMR-0520547. More information on DANSE can be found at
<a class="reference external" href="http://danse.us">http://danse.us</a>. Any opinions, findings, and conclusions or recommendations
expressed in this material are those of the author(s) and do not necessarily
reflect the views of the respective funding bodies.</p>
</div>
</div>
<div class="section" id="where-next">
<h2>Where next?<a class="headerlink" href="#where-next" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#features">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#release-definition">Release Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#major-changes-since-last-release">Major changes since last release</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing SrFit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#target-audience">Target Audience</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#platform">Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#using-srfit">Using SrFit</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#contact">Contact</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#id1">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#use-cases">Use Cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#miscellaneous">Miscellaneous</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#files">Files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending SrFit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extending.html#plugging-other-objects-into-srfit">Plugging Other Objects into SrFit</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending.html#extending-profile-parsers">Extending Profile Parsers</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending.html#extending-profiles">Extending Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending.html#custom-restraints">Custom Restraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending.html#custom-fithooks">Custom FitHooks</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/diffpy.srfit.html">srfit Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/diffpy.srfit.html#id1"><tt class="docutils literal"><span class="pre">srfit</span></tt> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/diffpy.srfit.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.equation.html">equation Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.fitbase.html">fitbase Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.interface.html">interface Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.pdf.html">pdf Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.sas.html">sas Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.structure.html">structure Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.tests.html">tests Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/diffpy.srfit.util.html">util Package</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SrFit developer&#8217;s documentation</a><ul>
<li><a class="reference internal" href="#disclaimer">Disclaimer</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a><ul>
<li><a class="reference internal" href="#developers">Developers</a></li>
<li><a class="reference internal" href="#funding">Funding</a></li>
</ul>
</li>
<li><a class="reference internal" href="#where-next">Where next?</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#api">API</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="intro.html"
                        title="next chapter">Introduction</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             >next</a> |</li>
        <li><a href="#">SrFit 1.0b2-10 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Brookhaven National Laboratory.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>